<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Real 3D Glass Aquarium â€¢ Filled Water</title>
<style>
html,body{margin:0;height:100%;overflow:hidden;background:#000;}
canvas{display:block;}
</style>
</head>
<body>

<script type="module">
import * as THREE from "https://unpkg.com/three@0.160.0/build/three.module.js";
import { OrbitControls } from "https://unpkg.com/three@0.160.0/examples/jsm/controls/OrbitControls.js";

// Renderer
const renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(window.innerWidth, window.innerHeight);
renderer.setPixelRatio(Math.min(window.devicePixelRatio,1.5));
renderer.outputColorSpace = THREE.SRGBColorSpace;
renderer.toneMapping = THREE.ACESFilmicToneMapping;
renderer.toneMappingExposure = 1.2;
document.body.appendChild(renderer.domElement);

// Scene
const scene = new THREE.Scene();
scene.background = new THREE.Color(0x000000);

// Camera
const camera = new THREE.PerspectiveCamera(45, window.innerWidth/window.innerHeight, 0.1, 100);
camera.position.set(8,6,14);

// Controls
const controls = new OrbitControls(camera, renderer.domElement);
controls.enableDamping = true;
controls.minDistance = 8;
controls.maxDistance = 30;

// Lighting
const ambient = new THREE.AmbientLight(0xffffff,0.6);
scene.add(ambient);

const dir = new THREE.DirectionalLight(0xffffff,1.2);
dir.position.set(5,10,7);
scene.add(dir);

// Aquarium Dimensions (scaled)
const width = 12;
const height = 8;
const depth = 6;
const thickness = 0.3;

// Glass Material
const glassMaterial = new THREE.MeshPhysicalMaterial({
  color: 0xbfeee0,
  metalness: 0,
  roughness: 0.05,
  transmission: 1,
  thickness: 1.2,
  ior: 1.45,
  transparent:true,
  opacity:0.15
});

// Outer Glass Box
const outerGeo = new THREE.BoxGeometry(width, height, depth);
const outerGlass = new THREE.Mesh(outerGeo, glassMaterial);
scene.add(outerGlass);

// Water Volume (real 3D box inside)
const waterMaterial = new THREE.MeshPhysicalMaterial({
  color: 0x3cc19e,
  metalness: 0,
  roughness: 0.2,
  transmission: 0.9,
  thickness: 2,
  ior: 1.33,
  transparent:true,
  opacity:0.6
});

const waterGeo = new THREE.BoxGeometry(width - thickness*2, height*0.7, depth - thickness*2);
const water = new THREE.Mesh(waterGeo, waterMaterial);
water.position.y = -height*0.15;
scene.add(water);

// Edges (glass frame highlight)
const edges = new THREE.EdgesGeometry(outerGeo);
const line = new THREE.LineSegments(
  edges,
  new THREE.LineBasicMaterial({color:0xffffff,transparent:true,opacity:0.3})
);
scene.add(line);

// Subtle base shadow
const planeGeo = new THREE.CircleGeometry(7,64);
const planeMat = new THREE.MeshBasicMaterial({color:0x000000,transparent:true,opacity:0.5});
const plane = new THREE.Mesh(planeGeo, planeMat);
plane.rotation.x = -Math.PI/2;
plane.position.y = -height/2 - 0.1;
scene.add(plane);

// Animate
function animate(){
  requestAnimationFrame(animate);
  controls.update();
  renderer.render(scene,camera);
}
animate();

window.addEventListener("resize",()=>{
  camera.aspect = window.innerWidth/window.innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(window.innerWidth,window.innerHeight);
});
</script>

</body>
</html>
