<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Welcome to Our Algae Pond</title>

<link href="https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest"></script>

<style>
html, body {
  margin:0;
  padding:0;
  height:100%;
  font-family: 'Montserrat', sans-serif;
  overflow-x:hidden;
}

/* 3 Layer Background */
body {
  background: linear-gradient(
    to bottom,
    #4CAF50 0%,
    #4CAF50 33%,
    #f5deb3 33%,
    #f5deb3 66%,
    #0f3057 66%,
    #0f3057 100%
  );
  position:relative;
}

/* Wave Glow */
body::after {
  content:"";
  position:fixed;
  bottom:0;
  width:100%;
  height:120px;
  background:radial-gradient(circle at 50% 0%, rgba(255,255,255,0.25), transparent 70%);
  animation:waveMove 6s ease-in-out infinite alternate;
  pointer-events:none;
  z-index:1;
}
@keyframes waveMove {
  from{transform:translateX(-20px);}
  to{transform:translateX(20px);}
}

/* Heading */
h1{
  text-align:center;
  padding:30px 10px;
  font-family:'Fredoka One', cursive;
  color:white;
  font-size:42px;
}

/* Layout */
.container{
  display:flex;
  justify-content:center;
  gap:40px;
  padding:20px;
  flex-wrap:wrap;
}

.card{
  background:white;
  padding:25px;
  border-radius:15px;
  box-shadow:0 10px 25px rgba(0,0,0,0.2);
  z-index:3;
  position:relative;
}

/* Upload */
.upload-box{
  background:#f1f1f1;
  padding:25px;
  border-radius:12px;
  text-align:center;
  cursor:pointer;
  transition:0.3s;
}
.upload-box:hover{
  background:#d4f8d4;
  transform:scale(1.03);
}

/* Carousel */
.carousel{
  margin-top:15px;
  position:relative;
  width:100%;
  max-width:200px;
}
.carousel img{
  width:100%;
  border-radius:10px;
  display:none;
}
.carousel img.active{display:block;}
.carousel button{
  position:absolute;
  top:50%;
  transform:translateY(-50%);
  background:rgba(0,0,0,0.3);
  border:none;
  color:white;
  font-size:18px;
  padding:5px 8px;
  cursor:pointer;
  border-radius:5px;
}
.prev{left:5px;}
.next{right:5px;}

.description{
  margin-top:15px;
  font-size:14px;
}

/* Stars */
.stars span{
  font-size:30px;
  cursor:pointer;
  color:gray;
  display:inline-block;
}
.stars span.filled{
  color:gold;
  animation:bounce 0.4s ease;
}
@keyframes bounce{
  0%{transform:scale(1);}
  50%{transform:scale(1.4);}
  100%{transform:scale(1);}
}

/* Buttons */
button{
  padding:10px 15px;
  margin:8px;
  border:none;
  border-radius:8px;
  cursor:pointer;
}
.contribute{background:#27ae60;color:white;}
.explore{background:#2980b9;color:white;}

.thank-message{
  margin-top:10px;
  min-height:24px;
}

/* Bubbles */
.bubble{
  position:fixed;
  bottom:-50px;
  border-radius:50%;
  pointer-events:auto;
  z-index:2;
  animation:rise linear infinite;
  cursor:pointer;
}
@keyframes rise{
  0%{transform:translateY(0);opacity:0.7;}
  100%{transform:translateY(-110vh);opacity:0;}
}
@keyframes pop{
  0%{transform:scale(1);opacity:1;}
  60%{transform:scale(1.6);opacity:0.7;}
  100%{transform:scale(0);opacity:0;}
}

/* Fish */
.fish{
  position:fixed;
  width:60px;
  animation:swim 30s linear infinite;
  z-index:1;
  opacity:0.8;
}
@keyframes swim{
  from{left:-100px;}
  to{left:110%;}
}

/* Bottom Funny Text */
.bottom-text{
  position:fixed;
  bottom:10px;
  width:100%;
  text-align:center;
  font-size:14px;
  color:white;
  opacity:0.85;
  pointer-events:none;
}
</style>
</head>

<body>

<h1>Welcome to Our Algae Pond üåø</h1>

<div class="container">

<div class="card">
  <div class="upload-box" onclick="document.getElementById('imageUpload').click()">
    üåø Select your algae photo to start!
  </div>
  <input type="file" id="imageUpload" accept="image/*" style="display:none;">
  <h3 id="prediction"></h3>
  <div id="carousel" class="carousel"></div>
  <div id="description" class="description"></div>
</div>

<div class="card" style="text-align:center;">
  <div class="stars" id="stars"></div>
  <div class="thank-message" id="thankMessage"></div>
  <button class="contribute">Contribute üì®</button>
  <button class="explore">Explore üåè</button>
</div>

</div>

<!-- Fish -->
<img src="https://cdn-icons-png.flaticon.com/512/616/616408.png" class="fish" style="top:75%;animation-delay:0s;">
<img src="https://cdn-icons-png.flaticon.com/512/616/616430.png" class="fish" style="top:85%;animation-delay:10s;">

<!-- Pop Sound -->
<audio id="popSound">
<source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_115b9b9f74.mp3?filename=water-bubble-pop-124467.mp3" type="audio/mpeg">
</audio>

<div class="bottom-text">
üòèüí¶ Yes‚Ä¶ the bubbles are playable. Tap to pop. Hold to drag.
</div>

<script>

/* ---------- STAR SYSTEM ---------- */
const starsContainer=document.getElementById("stars");
const thankMessage=document.getElementById("thankMessage");
let rating=0;
function renderStars(){
starsContainer.innerHTML="";
for(let i=1;i<=5;i++){
let s=document.createElement("span");
s.innerHTML=i<=rating?"‚òÖ":"‚òÜ";
if(i<=rating)s.classList.add("filled");
s.onclick=()=>{rating=i;renderStars();
const msg=["üò¢ We'll improve!","üôÇ Thank you!","üòä Nice!","üåü Awesome!","üòç You love our pond!"];
thankMessage.innerText=msg[i-1];
};
starsContainer.appendChild(s);
}
}
renderStars();

/* ---------- BUBBLES ---------- */
function createSingleBubble(){
const colors=[
"rgba(255,255,255,0.8)",
"rgba(173,216,230,0.8)",
"rgba(144,238,144,0.8)"
];
const b=document.createElement("div");
b.className="bubble";
const size=15+Math.random()*20;
b.style.width=size+"px";
b.style.height=size+"px";
b.style.left=Math.random()*window.innerWidth+"px";
b.style.background=colors[Math.floor(Math.random()*colors.length)];
b.style.boxShadow="0 0 15px "+b.style.background;
b.style.animationDuration=(6+Math.random()*6)+"s";

let holdTimer,isDragging=false,offsetX=0,offsetY=0;

function startHold(e){
holdTimer=setTimeout(()=>{
isDragging=true;
b.style.animation="none";
const rect=b.getBoundingClientRect();
const x=e.touches?e.touches[0].clientX:e.clientX;
const y=e.touches?e.touches[0].clientY:e.clientY;
offsetX=x-rect.left;
offsetY=y-rect.top;
},200);
}

function moveDrag(e){
if(!isDragging)return;
const x=e.touches?e.touches[0].clientX:e.clientX;
const y=e.touches?e.touches[0].clientY:e.clientY;
b.style.left=x-offsetX+"px";
b.style.top=y-offsetY+"px";
}

function endAction(){
clearTimeout(holdTimer);
if(isDragging){
isDragging=false;
b.style.animation="";
}else{
popBubble(b);
}
}

b.addEventListener("mousedown",startHold);
b.addEventListener("touchstart",startHold);
document.addEventListener("mousemove",moveDrag);
document.addEventListener("touchmove",moveDrag);
document.addEventListener("mouseup",endAction);
document.addEventListener("touchend",endAction);

document.body.appendChild(b);
}

function popBubble(b){
document.getElementById("popSound").play();
b.style.animation="pop 0.4s forwards";
setTimeout(()=>{b.remove();createSingleBubble();},400);
}

for(let i=0;i<40;i++){createSingleBubble();}

/* ---------- CONTRIBUTE ---------- */
document.querySelector(".contribute").addEventListener("click",()=>{
const email="uniqueseeekers123@gmail.com";
if(window.innerWidth>768){
alert("üíö Thanks for contributing!\nSend your algae images to:\n"+email);
}else{
alert("üíö Thanks for contributing to our pond! now Opening your mail app...");
window.location.href=`mailto:${email}?subject=Algae Contribution üåø`;
}
});

document.querySelector(".explore").addEventListener("click",()=>{
alert("üåé More algae adventures coming soon!");
});

</script>

</body>
</html>
